2023-02-11 21:18:20 +0000 [info]: gem 'fluentd' version '1.15.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-concat' version '2.5.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-detect-exceptions' version '0.0.14'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-elasticsearch' version '5.2.4'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-grafana-loki' version '1.2.18'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-kafka' version '0.18.1'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-kubernetes_metadata_filter' version '3.1.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-multi-format-parser' version '1.0.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-prometheus' version '2.0.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-record-modifier' version '2.1.1'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-rewrite-tag-filter' version '2.4.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-s3' version '1.7.2'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-systemd' version '1.0.5'
[root@localhost ~]# kubectl logs fluentd-2n5lg
fluentd 21:18:18.95
fluentd 21:18:18.95 Welcome to the Bitnami fluentd container
fluentd 21:18:18.95 Subscribe to project updates by watching https://github.com/bitnami/containers
fluentd 21:18:18.95 Submit issues and feature requests at https://github.com/bitnami/containers/issues
fluentd 21:18:18.95
fluentd 21:18:18.95 INFO  ==> ** Starting Fluentd setup **
find: '/docker-entrypoint-initdb.d/': No such file or directory
fluentd 21:18:18.97 INFO  ==> No custom scripts in /docker-entrypoint-initdb.d
fluentd 21:18:18.97 INFO  ==> ** Fluentd setup finished! **

fluentd 21:18:18.97 INFO  ==> ** Starting Fluentd **
2023-02-11 21:18:20 +0000 [info]: init supervisor logger path=nil rotate_age=nil rotate_size=nil
2023-02-11 21:18:20 +0000 [info]: parsing config file is succeeded path="/opt/bitnami/fluentd/conf/fluentd.conf"
2023-02-11 21:18:20 +0000 [info]: gem 'fluentd' version '1.15.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-concat' version '2.5.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-detect-exceptions' version '0.0.14'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-elasticsearch' version '5.2.4'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-grafana-loki' version '1.2.18'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-kafka' version '0.18.1'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-kubernetes_metadata_filter' version '3.1.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-multi-format-parser' version '1.0.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-prometheus' version '2.0.3'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-record-modifier' version '2.1.1'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-rewrite-tag-filter' version '2.4.0'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-s3' version '1.7.2'
2023-02-11 21:18:20 +0000 [info]: gem 'fluent-plugin-systemd' version '1.0.5'
2023-02-11 21:18:21 +0000 [warn]: Detected ES 7.x: `_doc` will be used as the document `_type`.
2023-02-11 21:18:21 +0000 [warn]: define <match fluent.**> to capture fluentd logs in top level is deprecated. Use <label @FLUENT_LOG> instead
2023-02-11 21:18:21 +0000 [info]: using configuration file: <ROOT>
  <match fluent.**>
    @type null
  </match>
  <source>
    @type forward
    bind "0.0.0.0"
    port 24224
  </source>
  <source>
    @type http
    bind "0.0.0.0"
    port 9880
  </source>
  <match fluentd.healthcheck>
    @type stdout
  </match>
  <match **>
    @type elasticsearch
    host "elasticsearch-master.default.svc.cluster.local"
    port 9200
    user "elastic"
    password xxxxxx
    default_elasticsearch_version 7
    include_tag_key true
    <buffer>
      @type "file"
      path "/opt/bitnami/fluentd/logs/buffers/logs.buffer"
      flush_thread_count 2
      flush_interval 5s
    </buffer>
  </match>
</ROOT>
2023-02-11 21:18:21 +0000 [info]: starting fluentd-1.15.3 pid=1 ruby="3.1.3"
2023-02-11 21:18:21 +0000 [info]: spawn command to main:  cmdline=["/opt/bitnami/ruby/bin/ruby", "-Eascii-8bit:ascii-8bit", "/opt/bitnami/fluentd/bin/fluentd", "--config", "/opt/bitnami/fluentd/conf/fluentd.conf", "--plugin", "/opt/bitnami/fluentd/plugins", "--under-supervisor"]
2023-02-11 21:18:21 +0000 [info]: init supervisor logger path=nil rotate_age=nil rotate_size=nil
2023-02-11 21:18:22 +0000 [info]: #0 init worker0 logger path=nil rotate_age=nil rotate_size=nil
2023-02-11 21:18:22 +0000 [info]: adding match pattern="fluent.**" type="null"
2023-02-11 21:18:23 +0000 [info]: adding match pattern="fluentd.healthcheck" type="stdout"
2023-02-11 21:18:23 +0000 [info]: adding match pattern="**" type="elasticsearch"
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.
2023-02-11 21:18:25 +0000 [warn]: #0 Could not communicate to Elasticsearch, resetting connection and trying again. EOFError (EOFError)
2023-02-11 21:18:25 +0000 [warn]: #0 Remaining retry: 14. Retry to communicate after 2 second(s).
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.
2023-02-11 21:18:29 +0000 [warn]: #0 Could not communicate to Elasticsearch, resetting connection and trying again. EOFError (EOFError)
2023-02-11 21:18:29 +0000 [warn]: #0 Remaining retry: 13. Retry to communicate after 4 second(s).
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.
2023-02-11 21:18:37 +0000 [warn]: #0 Could not communicate to Elasticsearch, resetting connection and trying again. EOFError (EOFError)
2023-02-11 21:18:37 +0000 [warn]: #0 Remaining retry: 12. Retry to communicate after 8 second(s).
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.
2023-02-11 21:18:53 +0000 [warn]: #0 Could not communicate to Elasticsearch, resetting connection and trying again. EOFError (EOFError)
2023-02-11 21:18:53 +0000 [warn]: #0 Remaining retry: 11. Retry to communicate after 16 second(s).
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.
2023-02-11 21:19:25 +0000 [warn]: #0 Could not communicate to Elasticsearch, resetting connection and trying again. EOFError (EOFError)
2023-02-11 21:19:25 +0000 [warn]: #0 Remaining retry: 10. Retry to communicate after 32 second(s).
The client is unable to verify that the server is Elasticsearch. Some functionality may not be compatible if the server is running an unsupported product.